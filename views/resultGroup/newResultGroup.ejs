<div class="container my-4 border border-black border-1 border-opacity-10 rounded p-3  shadow bg-primary bg-opacity-10 " style="max-width: 80vh;">
  <h1 class="text-center mb-3">Edit result calc template</h1>

  <form action="/result/groups/new" method="POST">
    <div class="row justify-content-center g-3 m-auto">

      <div class="col-md-12">
        <div class="form-floating position-relative searchable-dropdown">
          <i class="bi bi-chevron-down position-absolute top-50 end-0 pe-3 translate-middle-y"></i>
          <input type="text" class="form-control shadow-none searchable-input"
                 placeholder="Search category"
                 autocomplete="off"
                 <% if (formData) { %>
                 <% categories.forEach(element => { %>
                    <% if (String(element._id) === String(formData?.category?._id)) { %>
                      value="<%= element.CategoryDispName %>"
                    <% } %>
                 <% }) %>
                  <% }%>

                  >
          <label class="form-label">Category</label>
          <input type="hidden" class="searchable-hidden" name="category"
                 value="<%= formData ? formData.category || '' : '' %>">

          <!-- Dropdown list -->
          <ul class="list-group position-absolute w-100 mt-1 shadow-sm d-none searchable-list"
              style="max-height: 200px; overflow-y: auto; z-index: 1000;">
              <% categories.forEach(element => { %>
              <li class="list-group-item list-group-item-action searchable-item" val="<%= element._id %>" ><%= element.CategoryDispName %></li>

            <% }) %>
          </ul>
        </div>
      </div>

      <div class="col-md-12">
        <div class="form-floating position-relative searchable-dropdown">
          <i class="bi bi-chevron-down position-absolute top-50 end-0 pe-3 translate-middle-y"></i>
          <input type="text" class="form-control shadow-none searchable-input"
                 placeholder="Search calc template"
                 autocomplete="off"
                 <% if (formData) { %>
                 <% resultCalcs.forEach(element => { %>
                    <% if (String(element._id) === String(formData?.calcTemplate?._id)) { %>
                      value="<%= element.round1FirstP + "%, " + element.round1SecondP + "%, " + element.round2FirstP + "%" %>"
                    <% } %>
                 <% }) %>
                  <% }%>

                  >
          <label class="form-label">Calculation template</label>
          <input type="hidden" class="searchable-hidden" name="calcTemplate"
                 value="<%= formData ? (formData?.calcTemplate?._id || formData?.calcTemplate || '') : '' %>">

          <!-- Dropdown list -->
          <ul class="list-group position-absolute w-100 mt-1 shadow-sm d-none searchable-list"
              style="max-height: 200px; overflow-y: auto; z-index: 1000;">

              <% resultCalcs.forEach(element => { %>
              <li class="list-group-item list-group-item-action searchable-item" val="<%= element._id %>" ><%= element.round1FirstP + "%, " + element.round1SecondP + "%, " + element.round2FirstP + "%" %></li>

            <% }) %>
          </ul>
        </div>
      </div>

      <div class="col-md-12">
        <div class="form-floating position-relative searchable-dropdown">
          <i class="bi bi-chevron-down position-absolute top-50 end-0 pe-3 translate-middle-y"></i>
          <input type="text" class="form-control shadow-none searchable-input"
                 placeholder="Search round 1 first part program"
                 autocomplete="off"
                 <% if (formData) { %>
                 <% timetablePartsRound1.forEach(element => { %>
                    <% if (String(element._id) === String(formData?.round1First?._id)) { %>
                      value="<%= element.dailytimetable.DayName + ' -- ' + element.Name %>"
                    <% } %>
                 <% }) %>
                  <% }%>

                  >
          <label class="form-label">Round 1 First Part program</label>
          <input type="hidden" class="searchable-hidden" name="round1First"
                 value="<%= formData ? (formData?.round1First?._id || formData?.round1First || '') : '' %>">
          <!-- Dropdown list -->
          <ul class="list-group position-absolute w-100 mt-1 shadow-sm d-none searchable-list"
              style="max-height: 200px; overflow-y: auto; z-index: 1000;">
              <li class="list-group-item list-group-item-action searchable-item" val="" >Empty</li>
              <% timetablePartsRound1.forEach(element => { %>
              <li class="list-group-item list-group-item-action searchable-item" val="<%= element._id %>" ><%=element.dailytimetable.DayName + ' -- ' + element.Name %></li>

            <% }) %>
          </ul>
        </div>
      </div>

      <div class="col-md-12">
        <div class="form-floating position-relative searchable-dropdown">
          <i class="bi bi-chevron-down position-absolute top-50 end-0 pe-3 translate-middle-y"></i>
          <input type="text" class="form-control shadow-none searchable-input"
                 placeholder="Search round 1 second part program"
                 autocomplete="off"
                 <% if (formData) { %>
                 <% timetablePartsRound1.forEach(element => { %>
                    <% if (String(element._id) === String(formData?.round1Second?._id)) { %>
                      value="<%= element.dailytimetable.DayName + ' -- ' + element.Name %>"
                    <% } %>
                 <% }) %>
                  <% }%>

                  >
          <label class="form-label">Round 1 Second Part program</label>
          <input type="hidden" class="searchable-hidden" name="round1Second"
                 value="<%= formData ? (formData?.round1Second?._id || formData?.round1Second || '') : '' %>">
          <!-- Dropdown list -->
          <ul class="list-group position-absolute w-100 mt-1 shadow-sm d-none searchable-list"
              style="max-height: 200px; overflow-y: auto; z-index: 1000;">
              <li class="list-group-item list-group-item-action searchable-item" val="" >Empty</li>

              <% timetablePartsRound1.forEach(element => { %>
              <li class="list-group-item list-group-item-action searchable-item" val="<%= element._id %>" ><%=element.dailytimetable.DayName + ' -- ' + element.Name %></li>

            <% }) %>
          </ul>
        </div>
      </div>

       <div class="col-md-12">
        <div class="form-floating position-relative searchable-dropdown">
          <i class="bi bi-chevron-down position-absolute top-50 end-0 pe-3 translate-middle-y"></i>
          <input type="text" class="form-control shadow-none searchable-input"
                 placeholder="Search round 2 First part program"
                 autocomplete="off"
                 <% if (formData) { %>
                 <% timetablePartsRound2.forEach(element => { %>
                    <% if (String(element._id) === String(formData?.round2First?._id)) { %>
                      value="<%= element.dailytimetable.DayName + ' -- ' + element.Name %>"
                    <% } %>
                 <% }) %>
                  <% }%>

                  >
          <label class="form-label">Round 2 First Part program</label>
          <input type="hidden" class="searchable-hidden" name="round2First"
                 value="<%= formData ? (formData?.round2First?._id || formData?.round2First || '') : '' %>">
          <!-- Dropdown list -->
          <ul class="list-group position-absolute w-100 mt-1 shadow-sm d-none searchable-list"
              style="max-height: 200px; overflow-y: auto; z-index: 1000;">
              <li class="list-group-item list-group-item-action searchable-item" val="" >Empty</li>
              <% timetablePartsRound2.forEach(element => { %>
              <li class="list-group-item list-group-item-action searchable-item" val="<%= element._id %>" ><%=element.dailytimetable.DayName + ' -- ' + element.Name %></li>

            <% }) %>
          </ul>
        </div>
      </div>

      <div class="col-md-12 mt-3">
        <button type="submit" class="btn btn-primary w-100">Create</button>
      </div>

    </div>
  </form>
</div>
